{
  "openapi": "3.0.0",
  "info": {
    "title": "UTFPets API",
    "description": "API UTFPets - Gerenciamento colaborativo de pets: Sistema de compartilhamento flex√≠vel (por location ou pet individual), refei√ß√µes, lembretes e administra√ß√£o. Ideal para fam√≠lias, cl√≠nicas veterin√°rias e cuidadores.",
    "version": "1.0.0",
    "contact": {
      "name": "UTFPets Team",
      "email": "contato@utfpets.com"
    }
  },
  "servers": [
    {
      "url": "/api",
      "description": "Servidor de desenvolvimento"
    }
  ],
  "tags": [
    {
      "name": "Authentication",
      "description": "Endpoints de autentica√ß√£o e gerenciamento de usu√°rios"
    },
    {
      "name": "Pets",
      "description": "Gerenciamento de pets"
    },
    {
      "name": "Meals",
      "description": "Gerenciamento de refei√ß√µes dos pets"
    },
    {
      "name": "Pet Sharing",
      "description": "Compartilhamento de pets individuais com sistema de pap√©is (owner/editor/viewer)"
    },
    {
      "name": "Location Sharing",
      "description": "Compartilhamento de locations inteiras (todos os pets de uma vez) com sistema de pap√©is"
    },
    {
      "name": "Reminders",
      "description": "Lembretes de refei√ß√µes/medica√ß√µes com agendamento e recorr√™ncia"
    },
    {
      "name": "Notifications",
      "description": "Sistema de notifica√ß√µes para eventos do sistema (lembretes, convites, mudan√ßas de papel)"
    },
    {
      "name": "Push Notifications",
      "description": "Gerenciamento de subscri√ß√µes para push notifications via Service Worker (PWA)"
    },
    {
      "name": "Admin",
      "description": "Painel administrativo para gest√£o de usu√°rios, pets e auditoria (requer permiss√£o de admin)"
    },
    {
      "name": "Locations",
      "description": "Gerenciamento de localiza√ß√µes dos pets"
    }
  ],
  "paths": {
    "/v1/auth/register": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Registrar novo usu√°rio",
        "description": "Cria uma nova conta de usu√°rio no sistema",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Jo√£o Silva"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "joao.silva@example.com"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 8,
                    "description": "M√≠nimo 8 caracteres, deve conter: mai√∫scula, min√∫scula, n√∫mero e caractere especial (@$!%*#?&)",
                    "example": "Senha@123"
                  },
                  "password_confirmation": {
                    "type": "string",
                    "minLength": 8,
                    "description": "Deve ser igual ao campo password",
                    "example": "Senha@123"
                  }
                },
                "required": [
                  "name",
                  "email",
                  "password",
                  "password_confirmation"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Usu√°rio criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "name": {
                          "type": "string",
                          "example": "Jo√£o Silva"
                        },
                        "email": {
                          "type": "string",
                          "example": "joao.silva@example.com"
                        }
                      }
                    },
                    "token": {
                      "type": "string",
                      "example": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Erro de valida√ß√£o"
          }
        }
      }
    },
    "/v1/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Fazer login",
        "description": "Autentica um usu√°rio e retorna o token JWT",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "joao.silva@example.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "Senha@123"
                  }
                },
                "required": [
                  "email",
                  "password"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login realizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": {
                      "type": "string",
                      "example": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Credenciais inv√°lidas"
          }
        }
      }
    },
    "/v1/auth/logout": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Fazer logout",
        "description": "Invalida o token JWT do usu√°rio",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Logout realizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Logout realizado com sucesso"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/me": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Obter perfil do usu√°rio",
        "description": "Retorna os dados do usu√°rio autenticado",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do usu√°rio",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "example": 1
                    },
                    "name": {
                      "type": "string",
                      "example": "Jo√£o Silva"
                    },
                    "email": {
                      "type": "string",
                      "example": "joao.silva@example.com"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/pets": {
      "get": {
        "tags": [
          "Pets"
        ],
        "summary": "Listar pets do usu√°rio",
        "description": "Retorna todos os pets do usu√°rio autenticado",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de pets",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Pet"
                  }
                }
              }
            }
          },
          "401": {
            "description": "N√£o autenticado"
          }
        }
      },
      "post": {
        "tags": [
          "Pets"
        ],
        "summary": "Criar novo pet",
        "description": "Cria um novo pet para o usu√°rio autenticado",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Rex"
                  },
                  "species": {
                    "type": "string",
                    "enum": [
                      "Cachorro",
                      "Gato",
                      "P√°ssaro",
                      "Peixe",
                      "R√©ptil",
                      "Roedor",
                      "Outro"
                    ],
                    "example": "Cachorro"
                  },
                  "breed": {
                    "type": "string",
                    "example": "Labrador"
                  },
                  "birth_date": {
                    "type": "string",
                    "format": "date",
                    "example": "2020-01-15"
                  },
                  "weight": {
                    "type": "number",
                    "example": 25.5
                  },
                  "photo": {
                    "type": "string",
                    "format": "binary",
                    "description": "Imagem do pet (opcional)"
                  },
                  "notes": {
                    "type": "string",
                    "example": "Cachorro muito d√≥cil e brincalh√£o"
                  }
                },
                "required": [
                  "name",
                  "species",
                  "breed",
                  "birth_date",
                  "weight"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Pet criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "pet": {
                      "$ref": "#/components/schemas/Pet"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Erro de valida√ß√£o"
          }
        }
      }
    },
    "/v1/pets/{id}": {
      "get": {
        "tags": [
          "Pets"
        ],
        "summary": "Exibir pet espec√≠fico",
        "description": "Retorna os detalhes de um pet espec√≠fico",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes do pet",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Pet"
                }
              }
            }
          },
          "403": {
            "description": "Sem permiss√£o para visualizar este pet"
          },
          "404": {
            "description": "Pet n√£o encontrado"
          }
        }
      },
      "post": {
        "tags": [
          "Pets"
        ],
        "summary": "Atualizar pet",
        "description": "Atualiza os dados de um pet (apenas owner)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Rex Atualizado"
                  },
                  "species": {
                    "type": "string",
                    "enum": [
                      "Cachorro",
                      "Gato",
                      "P√°ssaro",
                      "Peixe",
                      "R√©ptil",
                      "Roedor",
                      "Outro"
                    ],
                    "example": "Cachorro"
                  },
                  "breed": {
                    "type": "string",
                    "example": "Golden Retriever"
                  },
                  "birth_date": {
                    "type": "string",
                    "format": "date",
                    "example": "2020-01-15"
                  },
                  "weight": {
                    "type": "number",
                    "example": 30
                  },
                  "photo": {
                    "type": "string",
                    "format": "binary"
                  },
                  "notes": {
                    "type": "string",
                    "example": "Cachorro muito brincalh√£o"
                  }
                },
                "required": [
                  "name",
                  "species",
                  "breed",
                  "birth_date",
                  "weight"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Pet atualizado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "pet": {
                      "$ref": "#/components/schemas/Pet"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Sem permiss√£o para editar este pet"
          },
          "404": {
            "description": "Pet n√£o encontrado"
          }
        }
      },
      "delete": {
        "tags": [
          "Pets"
        ],
        "summary": "Remover pet",
        "description": "Remove um pet (soft delete - apenas owner)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Pet removido com sucesso"
          },
          "403": {
            "description": "Sem permiss√£o para deletar este pet"
          },
          "404": {
            "description": "Pet n√£o encontrado"
          }
        }
      }
    },
    "/v1/pets/{pet}/meals": {
      "get": {
        "tags": [
          "Meals"
        ],
        "summary": "Listar refei√ß√µes do pet",
        "description": "Retorna todas as refei√ß√µes de um pet espec√≠fico",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "pet",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de refei√ß√µes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Meal"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Meals"
        ],
        "summary": "Criar nova refei√ß√£o",
        "description": "Cria uma nova refei√ß√£o para o pet (owner e editor)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "pet",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "food_type": {
                    "type": "string",
                    "example": "Ra√ß√£o Premium"
                  },
                  "quantity": {
                    "type": "number",
                    "example": 100
                  },
                  "unit": {
                    "type": "string",
                    "example": "g"
                  },
                  "scheduled_for": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-10-07 08:00:00"
                  }
                },
                "required": [
                  "food_type",
                  "quantity",
                  "unit",
                  "scheduled_for"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Refei√ß√£o criada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Meal"
                }
              }
            }
          },
          "403": {
            "description": "Sem permiss√£o para criar refei√ß√µes (apenas owner e editor)"
          },
          "422": {
            "description": "Erro de valida√ß√£o"
          }
        }
      }
    },
    "/v1/pets/{pet}/meals/{id}": {
      "get": {
        "tags": [
          "Meals"
        ],
        "summary": "Exibir refei√ß√£o espec√≠fica",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "pet",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes da refei√ß√£o",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Meal"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Meals"
        ],
        "summary": "Atualizar refei√ß√£o",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "pet",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "food_type": {
                    "type": "string",
                    "example": "Ra√ß√£o Super Premium"
                  },
                  "quantity": {
                    "type": "number",
                    "example": 150
                  },
                  "unit": {
                    "type": "string",
                    "example": "g"
                  },
                  "scheduled_for": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-10-07 12:00:00"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Refei√ß√£o atualizada"
          }
        }
      },
      "delete": {
        "tags": [
          "Meals"
        ],
        "summary": "Remover refei√ß√£o",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "pet",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Refei√ß√£o removida"
          }
        }
      }
    },
    "/v1/pets/{pet}/meals/{id}/consume": {
      "post": {
        "tags": [
          "Meals"
        ],
        "summary": "Marcar refei√ß√£o como consumida",
        "description": "Marca uma refei√ß√£o como consumida (owner e editor)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "pet",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Refei√ß√£o marcada como consumida",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Refei√ß√£o marcada como consumida"
                    },
                    "meal": {
                      "$ref": "#/components/schemas/Meal"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/pets/{pet}/share": {
      "get": {
        "tags": [
          "Pet Sharing"
        ],
        "summary": "Listar participantes do pet",
        "description": "Lista todos os usu√°rios que t√™m acesso ao pet e seus pap√©is",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "pet",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de participantes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/SharedPet"
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "example": 2
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Pet Sharing"
        ],
        "summary": "Compartilhar pet",
        "description": "Envia um convite para outro usu√°rio acessar o pet (apenas owner)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "pet",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "integer",
                    "example": 2,
                    "description": "ID do usu√°rio (usar user_id OU email)"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "maria.souza@example.com",
                    "description": "Email do usu√°rio (usar user_id OU email)"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "editor",
                      "viewer"
                    ],
                    "example": "editor",
                    "description": "editor: pode criar/editar refei√ß√µes | viewer: apenas visualiza√ß√£o"
                  }
                },
                "required": [
                  "role"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Convite enviado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Convite enviado com sucesso."
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user_id": {
                          "type": "integer",
                          "example": 2
                        },
                        "role": {
                          "type": "string",
                          "example": "editor"
                        },
                        "invitation_status": {
                          "type": "string",
                          "example": "pending"
                        },
                        "invited_by": {
                          "type": "integer",
                          "example": 1
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Apenas o owner pode compartilhar o pet"
          },
          "422": {
            "description": "Erro de valida√ß√£o ou usu√°rio j√° tem acesso"
          }
        }
      }
    },
    "/v1/pets/{pet}/share/{user}/accept": {
      "post": {
        "tags": [
          "Pet Sharing"
        ],
        "summary": "Aceitar convite de compartilhamento",
        "description": "O usu√°rio convidado aceita o convite para acessar o pet",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "pet",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "user",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 2
            },
            "description": "ID do usu√°rio que foi convidado"
          }
        ],
        "responses": {
          "200": {
            "description": "Convite aceito com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Convite aceito com sucesso."
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user_id": {
                          "type": "integer",
                          "example": 2
                        },
                        "role": {
                          "type": "string",
                          "example": "editor"
                        },
                        "invitation_status": {
                          "type": "string",
                          "example": "accepted"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Apenas o usu√°rio convidado pode aceitar"
          },
          "404": {
            "description": "Convite n√£o encontrado"
          }
        }
      }
    },
    "/v1/pets/{pet}/share/{user}": {
      "patch": {
        "tags": [
          "Pet Sharing"
        ],
        "summary": "Alterar papel do participante",
        "description": "Altera o papel de um participante (apenas owner)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "pet",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "user",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 2
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "role": {
                    "type": "string",
                    "enum": [
                      "editor",
                      "viewer"
                    ],
                    "example": "viewer"
                  }
                },
                "required": [
                  "role"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Papel atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Papel atualizado com sucesso."
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user_id": {
                          "type": "integer",
                          "example": 2
                        },
                        "role": {
                          "type": "string",
                          "example": "viewer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Apenas o owner pode alterar pap√©is"
          }
        }
      },
      "delete": {
        "tags": [
          "Pet Sharing"
        ],
        "summary": "Revogar acesso do participante",
        "description": "Remove o acesso de um participante ao pet (apenas owner)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "pet",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "user",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 2
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Acesso revogado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Acesso revogado com sucesso."
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Apenas o owner pode revogar acessos"
          }
        }
      }
    },
    "/v1/pets/{pet}/reminders": {
      "get": {
        "tags": [
          "Reminders"
        ],
        "summary": "Listar lembretes do pet",
        "description": "Retorna todos os lembretes de um pet com filtros opcionais",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "pet",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "paused",
                "done"
              ],
              "example": "active"
            }
          },
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2025-10-07 00:00:00"
            }
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2025-10-14 23:59:59"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de lembretes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Reminder"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Reminders"
        ],
        "summary": "Criar novo lembrete",
        "description": "Cria um novo lembrete para o pet (owner e editor)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "pet",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "Ra√ß√£o manh√£"
                  },
                  "description": {
                    "type": "string",
                    "example": "150g de ra√ß√£o premium"
                  },
                  "scheduled_at": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-10-07 08:00:00"
                  },
                  "repeat_rule": {
                    "type": "string",
                    "enum": [
                      "none",
                      "daily",
                      "weekly",
                      "custom"
                    ],
                    "example": "daily"
                  },
                  "channel": {
                    "type": "string",
                    "enum": [
                      "in-app",
                      "email",
                      "push"
                    ],
                    "example": "in-app"
                  }
                },
                "required": [
                  "title",
                  "scheduled_at"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Lembrete criado"
          },
          "403": {
            "description": "Sem permiss√£o (apenas owner e editor)"
          }
        }
      }
    },
    "/v1/reminders/{reminder}": {
      "get": {
        "tags": [
          "Reminders"
        ],
        "summary": "Visualizar lembrete",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "reminder",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "0199bfd0-56e5-731e-b90f-c24bf2d52ddd"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes do lembrete",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Reminder"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Reminders"
        ],
        "summary": "Atualizar lembrete",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "reminder",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "0199bfd0-56e5-731e-b90f-c24bf2d52ddd"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "Ra√ß√£o atualizada"
                  },
                  "description": {
                    "type": "string"
                  },
                  "scheduled_at": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "repeat_rule": {
                    "type": "string",
                    "enum": [
                      "none",
                      "daily",
                      "weekly",
                      "custom"
                    ]
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "paused",
                      "done"
                    ]
                  },
                  "channel": {
                    "type": "string",
                    "enum": [
                      "in-app",
                      "email",
                      "push"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Lembrete atualizado"
          }
        }
      },
      "delete": {
        "tags": [
          "Reminders"
        ],
        "summary": "Deletar lembrete",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "reminder",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "0199bfd0-56e5-731e-b90f-c24bf2d52ddd"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lembrete removido"
          }
        }
      }
    },
    "/v1/reminders/{reminder}/snooze": {
      "post": {
        "tags": [
          "Reminders"
        ],
        "summary": "Adiar lembrete",
        "description": "Adia o lembrete por X minutos",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "reminder",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "0199bfd0-56e5-731e-b90f-c24bf2d52ddd"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "minutes": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 1440,
                    "example": 30
                  }
                },
                "required": [
                  "minutes"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Lembrete adiado"
          }
        }
      }
    },
    "/v1/reminders/{reminder}/complete": {
      "post": {
        "tags": [
          "Reminders"
        ],
        "summary": "Marcar lembrete como conclu√≠do",
        "description": "Marca o lembrete como conclu√≠do e cria pr√≥xima ocorr√™ncia se for recorrente",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "reminder",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "0199bfd0-56e5-731e-b90f-c24bf2d52ddd"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lembrete conclu√≠do"
          }
        }
      }
    },
    "/v1/notifications": {
      "get": {
        "tags": [
          "Notifications"
        ],
        "summary": "Listar notifica√ß√µes do usu√°rio",
        "description": "Retorna lista paginada de notifica√ß√µes do usu√°rio autenticado",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "description": "Filtrar por status da notifica√ß√£o",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "queued",
                "sent",
                "failed",
                "read"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "N√∫mero da p√°gina",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "description": "Itens por p√°gina",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de notifica√ß√µes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Notification"
                      }
                    },
                    "meta": {
                      "$ref": "#/components/schemas/PaginationMeta"
                    }
                  }
                },
                "example": {
                  "data": [
                    {
                      "id": "0199bfd0-56e5-731e-b90f-c24bf2d52ddd",
                      "user_id": 1,
                      "title": "üîî Lembrete: Ra√ß√£o manh√£",
                      "body": "√â hora de dar ra√ß√£o para o Buddy!",
                      "data": {
                        "pet_id": 1,
                        "reminder_id": "0199bfd0-56e5-731e-b90f-c24bf2d52ddd",
                        "type": "reminder_due"
                      },
                      "channel": "db",
                      "status": "sent",
                      "created_at": "2025-10-06T10:30:00.000000Z"
                    }
                  ],
                  "meta": {
                    "total": 1,
                    "per_page": 20,
                    "current_page": 1,
                    "last_page": 1
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/notifications/unread-count": {
      "get": {
        "tags": [
          "Notifications"
        ],
        "summary": "Contar notifica√ß√µes n√£o lidas",
        "description": "Retorna o n√∫mero de notifica√ß√µes n√£o lidas do usu√°rio",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Contagem de notifica√ß√µes n√£o lidas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "unread_count": {
                      "type": "integer",
                      "example": 3
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/notifications/{notification}/read": {
      "patch": {
        "tags": [
          "Notifications"
        ],
        "summary": "Marcar notifica√ß√£o como lida",
        "description": "Marca uma notifica√ß√£o espec√≠fica como lida",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "notification",
            "in": "path",
            "required": true,
            "description": "ID da notifica√ß√£o",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Notifica√ß√£o marcada como lida",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Notifica√ß√£o marcada como lida"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "N√£o autorizado a acessar esta notifica√ß√£o"
          },
          "404": {
            "description": "Notifica√ß√£o n√£o encontrada"
          }
        }
      }
    },
    "/v1/notifications/mark-all-read": {
      "post": {
        "tags": [
          "Notifications"
        ],
        "summary": "Marcar todas as notifica√ß√µes como lidas",
        "description": "Marca todas as notifica√ß√µes do usu√°rio como lidas",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Todas as notifica√ß√µes marcadas como lidas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Todas as notifica√ß√µes foram marcadas como lidas"
                    },
                    "updated_count": {
                      "type": "integer",
                      "example": 5
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/push-subscriptions": {
      "get": {
        "tags": [
          "Push Notifications"
        ],
        "summary": "Listar subscri√ß√µes push do usu√°rio",
        "description": "Retorna todas as subscri√ß√µes push do usu√°rio autenticado",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de subscri√ß√µes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "endpoint": {
                            "type": "string",
                            "example": "https://fcm.googleapis.com/fcm/send/..."
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-10-26T20:00:00.000000Z"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Push Notifications"
        ],
        "summary": "Criar subscri√ß√£o push",
        "description": "Cria ou atualiza subscri√ß√£o push do Service Worker para o usu√°rio",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "endpoint": {
                    "type": "string",
                    "example": "https://fcm.googleapis.com/fcm/send/...",
                    "description": "Endpoint URL fornecido pelo Service Worker"
                  },
                  "keys": {
                    "type": "object",
                    "properties": {
                      "p256dh": {
                        "type": "string",
                        "example": "BIz...",
                        "description": "Chave p√∫blica P-256 para criptografia"
                      },
                      "auth": {
                        "type": "string",
                        "example": "xY1...",
                        "description": "Secret de autentica√ß√£o"
                      }
                    },
                    "required": [
                      "p256dh",
                      "auth"
                    ]
                  }
                },
                "required": [
                  "endpoint",
                  "keys"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Subscri√ß√£o salva com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Push subscription saved successfully"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "endpoint": {
                          "type": "string",
                          "example": "https://fcm.googleapis.com/fcm/send/..."
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Erro de valida√ß√£o",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "Validation failed"
                    },
                    "errors": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Push Notifications"
        ],
        "summary": "Deletar subscri√ß√£o push",
        "description": "Remove subscri√ß√£o push do Service Worker",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "endpoint": {
                    "type": "string",
                    "example": "https://fcm.googleapis.com/fcm/send/...",
                    "description": "Endpoint URL da subscri√ß√£o a ser removida"
                  }
                },
                "required": [
                  "endpoint"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Subscri√ß√£o removida com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Push subscription deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Subscri√ß√£o n√£o encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "Push subscription not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/users": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Listar usu√°rios (Admin)",
        "description": "Lista todos os usu√°rios com filtros e pagina√ß√£o. Requer permiss√£o de admin.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "description": "Filtrar por email (busca parcial)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "created_from",
            "in": "query",
            "description": "Filtrar por data de cria√ß√£o (in√≠cio)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "created_to",
            "in": "query",
            "description": "Filtrar por data de cria√ß√£o (fim)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "N√∫mero da p√°gina",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "description": "Itens por p√°gina",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "maximum": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de usu√°rios",
            "content": {
              "application/json": {
                "example": {
                  "data": [
                    {
                      "id": 1,
                      "name": "Jo√£o Silva",
                      "email": "joao@example.com",
                      "is_admin": false,
                      "created_at": "2025-10-01T10:00:00.000000Z"
                    }
                  ],
                  "meta": {
                    "total": 100,
                    "per_page": 20,
                    "current_page": 1,
                    "last_page": 5
                  }
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado - Requer permiss√£o de admin"
          }
        }
      }
    },
    "/v1/admin/users/{id}": {
      "patch": {
        "tags": [
          "Admin"
        ],
        "summary": "Atualizar status de admin (Admin)",
        "description": "Altera permiss√£o de admin de um usu√°rio. Requer permiss√£o de admin.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID do usu√°rio",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "is_admin": {
                    "type": "boolean",
                    "example": true
                  }
                },
                "required": [
                  "is_admin"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Permiss√µes atualizadas",
            "content": {
              "application/json": {
                "example": {
                  "message": "Permiss√µes de admin atualizadas com sucesso",
                  "user": {
                    "id": 1,
                    "name": "Jo√£o Silva",
                    "email": "joao@example.com",
                    "is_admin": true
                  }
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado"
          },
          "422": {
            "description": "N√£o pode remover pr√≥prio acesso de admin"
          }
        }
      }
    },
    "/v1/admin/pets": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Listar pets (Admin)",
        "description": "Lista todos os pets com filtros e pagina√ß√£o. Requer permiss√£o de admin.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "owner_id",
            "in": "query",
            "description": "Filtrar por dono do pet",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "N√∫mero da p√°gina",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "description": "Itens por p√°gina",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "maximum": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de pets",
            "content": {
              "application/json": {
                "example": {
                  "data": [
                    {
                      "id": 1,
                      "name": "Buddy",
                      "species": "dog",
                      "breed": "Golden Retriever",
                      "user": {
                        "id": 1,
                        "name": "Jo√£o Silva",
                        "email": "joao@example.com"
                      },
                      "created_at": "2025-10-01T10:00:00.000000Z"
                    }
                  ],
                  "meta": {
                    "total": 50,
                    "per_page": 20,
                    "current_page": 1,
                    "last_page": 3
                  }
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado"
          }
        }
      }
    },
    "/v1/admin/audit-logs": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Listar logs de auditoria (Admin)",
        "description": "Lista logs de auditoria com filtros e pagina√ß√£o. Requer permiss√£o de admin.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "action",
            "in": "query",
            "description": "Filtrar por a√ß√£o",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "created",
                "updated",
                "deleted",
                "accessed",
                "login",
                "logout",
                "list_users",
                "list_pets"
              ]
            }
          },
          {
            "name": "entity_type",
            "in": "query",
            "description": "Filtrar por tipo de entidade",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "User",
                "Pet",
                "Meal",
                "Reminder",
                "Notification"
              ]
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "description": "Filtrar por usu√°rio",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "from",
            "in": "query",
            "description": "Data inicial",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "to",
            "in": "query",
            "description": "Data final",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "N√∫mero da p√°gina",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "description": "Itens por p√°gina",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "maximum": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de logs de auditoria",
            "content": {
              "application/json": {
                "example": {
                  "data": [
                    {
                      "id": "0199bfd0-56e5-731e-b90f-c24bf2d52ddd",
                      "action": "updated",
                      "entity_type": "User",
                      "entity_id": "1",
                      "old_values": {
                        "is_admin": false
                      },
                      "new_values": {
                        "is_admin": true
                      },
                      "user": {
                        "id": 2,
                        "name": "Admin",
                        "email": "admin@utfpets.com"
                      },
                      "ip_address": "127.0.0.1",
                      "created_at": "2025-10-07T20:00:00.000000Z"
                    }
                  ],
                  "meta": {
                    "total": 200,
                    "per_page": 50,
                    "current_page": 1,
                    "last_page": 4
                  }
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado"
          }
        }
      }
    },
    "/v1/locations": {
      "get": {
        "tags": [
          "Locations"
        ],
        "summary": "Listar localiza√ß√µes do usu√°rio",
        "description": "Retorna todas as localiza√ß√µes do usu√°rio autenticado",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de localiza√ß√µes",
            "content": {
              "application/json": {
                "example": {
                  "data": [
                    {
                      "id": "uuid",
                      "user_id": 1,
                      "name": "Casa Principal",
                      "address": "Rua das Flores, 123",
                      "city": "Curitiba",
                      "state": "PR",
                      "country": "Brasil",
                      "timezone": "America/Sao_Paulo",
                      "pets_count": 2,
                      "created_at": "2025-10-01T10:00:00.000000Z"
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Locations"
        ],
        "summary": "Criar nova localiza√ß√£o",
        "description": "Cria uma nova localiza√ß√£o para o usu√°rio",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Casa Principal"
                  },
                  "address": {
                    "type": "string",
                    "example": "Rua das Flores, 123"
                  },
                  "city": {
                    "type": "string",
                    "example": "Curitiba"
                  },
                  "state": {
                    "type": "string",
                    "example": "PR"
                  },
                  "country": {
                    "type": "string",
                    "example": "Brasil"
                  },
                  "timezone": {
                    "type": "string",
                    "example": "America/Sao_Paulo"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Localiza√ß√£o criada"
          },
          "422": {
            "description": "Nome duplicado ou valida√ß√£o falhou"
          }
        }
      }
    },
    "/v1/locations/{location}": {
      "get": {
        "tags": [
          "Locations"
        ],
        "summary": "Exibir localiza√ß√£o espec√≠fica",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "location",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes da localiza√ß√£o"
          },
          "403": {
            "description": "Sem permiss√£o"
          },
          "404": {
            "description": "Localiza√ß√£o n√£o encontrada"
          }
        }
      },
      "put": {
        "tags": [
          "Locations"
        ],
        "summary": "Atualizar localiza√ß√£o",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "location",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "address": {
                    "type": "string"
                  },
                  "city": {
                    "type": "string"
                  },
                  "state": {
                    "type": "string"
                  },
                  "country": {
                    "type": "string"
                  },
                  "timezone": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Localiza√ß√£o atualizada"
          },
          "403": {
            "description": "Sem permiss√£o"
          },
          "404": {
            "description": "Localiza√ß√£o n√£o encontrada"
          }
        }
      },
      "delete": {
        "tags": [
          "Locations"
        ],
        "summary": "Deletar localiza√ß√£o",
        "description": "Remove localiza√ß√£o (apenas se n√£o tiver pets associados)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "location",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Localiza√ß√£o removida"
          },
          "403": {
            "description": "Sem permiss√£o"
          },
          "404": {
            "description": "Localiza√ß√£o n√£o encontrada"
          },
          "422": {
            "description": "N√£o pode deletar - existem pets associados"
          }
        }
      }
    },
    "/v1/locations/{location}/share": {
      "get": {
        "tags": ["Location Sharing"],
        "summary": "Listar participantes da location",
        "description": "Lista todos os usu√°rios que t√™m acesso √† location e seus pap√©is",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "location",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de participantes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/SharedLocation"
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "example": 2
                        },
                        "pets_count": {
                          "type": "integer",
                          "example": 5,
                          "description": "N√∫mero de pets nesta location"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Sem permiss√£o para visualizar esta location"
          }
        }
      },
      "post": {
        "tags": ["Location Sharing"],
        "summary": "Compartilhar location",
        "description": "Envia um convite para outro usu√°rio acessar a location inteira e todos os seus pets (apenas owner)",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "location",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "integer",
                    "example": 2,
                    "description": "ID do usu√°rio (usar user_id OU email)"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "maria.souza@example.com",
                    "description": "Email do usu√°rio (usar user_id OU email)"
                  },
                  "role": {
                    "type": "string",
                    "enum": ["editor", "viewer"],
                    "example": "editor",
                    "description": "editor: pode criar/editar refei√ß√µes de todos os pets | viewer: apenas visualiza√ß√£o"
                  }
                },
                "required": ["role"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Convite enviado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Convite enviado com sucesso. O usu√°rio ter√° acesso a 3 pet(s) desta location."
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user_id": {
                          "type": "integer",
                          "example": 2
                        },
                        "role": {
                          "type": "string",
                          "example": "editor"
                        },
                        "invitation_status": {
                          "type": "string",
                          "example": "pending"
                        },
                        "invited_by": {
                          "type": "integer",
                          "example": 1
                        },
                        "pets_count": {
                          "type": "integer",
                          "example": 3
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Apenas o owner pode compartilhar a location"
          },
          "422": {
            "description": "Erro de valida√ß√£o ou usu√°rio j√° tem acesso"
          }
        }
      }
    },
    "/v1/locations/{location}/share/{user}/accept": {
      "post": {
        "tags": ["Location Sharing"],
        "summary": "Aceitar convite de compartilhamento de location",
        "description": "O usu√°rio convidado aceita o convite para acessar a location e todos os seus pets",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "location",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "user",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 2
            },
            "description": "ID do usu√°rio que foi convidado"
          }
        ],
        "responses": {
          "200": {
            "description": "Convite aceito com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Convite aceito com sucesso. Voc√™ agora tem acesso a 3 pet(s)."
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user_id": {
                          "type": "integer",
                          "example": 2
                        },
                        "role": {
                          "type": "string",
                          "example": "editor"
                        },
                        "invitation_status": {
                          "type": "string",
                          "example": "accepted"
                        },
                        "pets_count": {
                          "type": "integer",
                          "example": 3
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Apenas o usu√°rio convidado pode aceitar"
          },
          "404": {
            "description": "Convite n√£o encontrado"
          }
        }
      }
    },
    "/v1/locations/{location}/share/{user}": {
      "patch": {
        "tags": ["Location Sharing"],
        "summary": "Alterar papel do participante na location",
        "description": "Altera o papel de um participante (apenas owner)",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "location",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "user",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 2
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "role": {
                    "type": "string",
                    "enum": ["editor", "viewer"],
                    "example": "viewer"
                  }
                },
                "required": ["role"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Papel atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Papel atualizado com sucesso."
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user_id": {
                          "type": "integer",
                          "example": 2
                        },
                        "role": {
                          "type": "string",
                          "example": "viewer"
                        },
                        "previous_role": {
                          "type": "string",
                          "example": "editor"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Apenas o owner pode alterar pap√©is"
          }
        }
      },
      "delete": {
        "tags": ["Location Sharing"],
        "summary": "Revogar acesso do participante √† location",
        "description": "Remove o acesso de um participante √† location e todos os seus pets (apenas owner)",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "location",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "user",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 2
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Acesso revogado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Acesso revogado com sucesso."
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Apenas o owner pode revogar acessos"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Token JWT obtido atrav√©s do login"
      }
    },
    "schemas": {
      "Pet": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "user_id": {
            "type": "integer",
            "example": 1
          },
          "name": {
            "type": "string",
            "example": "Rex"
          },
          "species": {
            "type": "string",
            "enum": [
              "Cachorro",
              "Gato",
              "P√°ssaro",
              "Peixe",
              "R√©ptil",
              "Roedor",
              "Outro"
            ],
            "example": "Cachorro"
          },
          "breed": {
            "type": "string",
            "example": "Labrador"
          },
          "birth_date": {
            "type": "string",
            "format": "date",
            "example": "2020-01-15"
          },
          "weight": {
            "type": "number",
            "format": "float",
            "example": 25.5
          },
          "photo": {
            "type": "string",
            "nullable": true,
            "example": "https://res.cloudinary.com/demo/image/upload/sample.jpg"
          },
          "notes": {
            "type": "string",
            "nullable": true,
            "example": "Cachorro muito d√≥cil e brincalh√£o"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-06T10:30:00.000000Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-06T10:30:00.000000Z"
          },
          "deleted_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "example": null
          }
        }
      },
      "Meal": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "pet_id": {
            "type": "integer",
            "example": 1
          },
          "food_type": {
            "type": "string",
            "example": "Ra√ß√£o Premium"
          },
          "quantity": {
            "type": "number",
            "example": 100
          },
          "unit": {
            "type": "string",
            "example": "g"
          },
          "scheduled_for": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-07T08:00:00.000000Z"
          },
          "consumed_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "example": null
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-06T10:30:00.000000Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-06T10:30:00.000000Z"
          }
        }
      },
      "SharedPet": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "integer",
            "example": 2
          },
          "name": {
            "type": "string",
            "example": "Maria Souza"
          },
          "email": {
            "type": "string",
            "example": "maria.souza@example.com"
          },
          "role": {
            "type": "string",
            "enum": [
              "owner",
              "editor",
              "viewer"
            ],
            "example": "editor",
            "description": "owner: controle total | editor: pode criar/editar refei√ß√µes | viewer: apenas visualiza√ß√£o"
          },
          "invitation_status": {
            "type": "string",
            "enum": [
              "pending",
              "accepted",
              "revoked"
            ],
            "example": "accepted"
          },
          "invited_by": {
            "type": "integer",
            "example": 1
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-06T10:30:00.000000Z"
          }
        }
      },
      "SharedLocation": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "integer",
            "example": 2
          },
          "name": {
            "type": "string",
            "example": "Maria Souza"
          },
          "email": {
            "type": "string",
            "example": "maria.souza@example.com"
          },
          "role": {
            "type": "string",
            "enum": [
              "owner",
              "editor",
              "viewer"
            ],
            "example": "editor",
            "description": "owner: controle total sobre a location e todos os pets | editor: pode criar/editar refei√ß√µes de todos os pets | viewer: apenas visualiza√ß√£o"
          },
          "invitation_status": {
            "type": "string",
            "enum": [
              "pending",
              "accepted",
              "revoked"
            ],
            "example": "accepted"
          },
          "invited_by": {
            "type": "integer",
            "example": 1
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-06T10:30:00.000000Z"
          }
        }
      },
      "Reminder": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "0199bfd0-56e5-731e-b90f-c24bf2d52ddd"
          },
          "pet_id": {
            "type": "integer",
            "example": 1
          },
          "title": {
            "type": "string",
            "example": "Ra√ß√£o manh√£"
          },
          "description": {
            "type": "string",
            "nullable": true,
            "example": "150g de ra√ß√£o premium"
          },
          "scheduled_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-07T08:00:00.000000Z"
          },
          "repeat_rule": {
            "type": "string",
            "enum": [
              "none",
              "daily",
              "weekly",
              "custom"
            ],
            "nullable": true,
            "example": "daily",
            "description": "none: n√£o repete | daily: todos os dias | weekly: toda semana | custom: RRULE personalizada"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "paused",
              "done"
            ],
            "example": "active",
            "description": "active: ativo | paused: pausado | done: conclu√≠do"
          },
          "channel": {
            "type": "string",
            "enum": [
              "in-app",
              "email",
              "push"
            ],
            "example": "in-app",
            "description": "Canal de notifica√ß√£o"
          },
          "days_of_week": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "MON",
                "TUE",
                "WED",
                "THU",
                "FRI",
                "SAT",
                "SUN"
              ]
            },
            "nullable": true,
            "example": [
              "MON",
              "WED",
              "FRI"
            ],
            "description": "Dias da semana permitidos (null = todos os dias)"
          },
          "timezone_override": {
            "type": "string",
            "nullable": true,
            "example": "America/Sao_Paulo",
            "description": "Timezone IANA (null = usa timezone do usu√°rio)"
          },
          "snooze_minutes_default": {
            "type": "integer",
            "minimum": 0,
            "maximum": 1440,
            "example": 15,
            "description": "Minutos padr√£o para snooze (0-1440)"
          },
          "active_window_start": {
            "type": "string",
            "format": "time",
            "nullable": true,
            "example": "08:00",
            "description": "Hor√°rio de in√≠cio da janela ativa (H:i)"
          },
          "active_window_end": {
            "type": "string",
            "format": "time",
            "nullable": true,
            "example": "20:00",
            "description": "Hor√°rio de fim da janela ativa (H:i)"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-06T10:30:00.000000Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-06T10:30:00.000000Z"
          }
        }
      },
      "Notification": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "0199bfd0-56e5-731e-b90f-c24bf2d52ddd"
          },
          "user_id": {
            "type": "integer",
            "example": 1
          },
          "title": {
            "type": "string",
            "example": "üîî Lembrete: Ra√ß√£o manh√£"
          },
          "body": {
            "type": "string",
            "example": "√â hora de dar ra√ß√£o para o Buddy!"
          },
          "data": {
            "type": "object",
            "nullable": true,
            "example": {
              "pet_id": 1,
              "reminder_id": "0199bfd0-56e5-731e-b90f-c24bf2d52ddd",
              "type": "reminder_due"
            }
          },
          "channel": {
            "type": "string",
            "enum": [
              "db",
              "email",
              "push"
            ],
            "example": "db",
            "description": "Canal de notifica√ß√£o"
          },
          "status": {
            "type": "string",
            "enum": [
              "queued",
              "sent",
              "failed",
              "read"
            ],
            "example": "sent",
            "description": "queued: na fila | sent: enviada | failed: falhou | read: lida"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-06T10:30:00.000000Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-06T10:30:00.000000Z"
          }
        }
      },
      "PaginationMeta": {
        "type": "object",
        "properties": {
          "total": {
            "type": "integer",
            "example": 100
          },
          "per_page": {
            "type": "integer",
            "example": 15
          },
          "current_page": {
            "type": "integer",
            "example": 1
          },
          "last_page": {
            "type": "integer",
            "example": 7
          },
          "from": {
            "type": "integer",
            "example": 1
          },
          "to": {
            "type": "integer",
            "example": 15
          }
        }
      },
      "Location": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "uuid-location"
          },
          "user_id": {
            "type": "integer",
            "example": 1
          },
          "name": {
            "type": "string",
            "example": "Casa Principal"
          },
          "address": {
            "type": "string",
            "nullable": true,
            "example": "Rua das Flores, 123"
          },
          "city": {
            "type": "string",
            "nullable": true,
            "example": "Curitiba"
          },
          "state": {
            "type": "string",
            "nullable": true,
            "example": "PR"
          },
          "country": {
            "type": "string",
            "nullable": true,
            "example": "Brasil"
          },
          "timezone": {
            "type": "string",
            "example": "America/Sao_Paulo"
          },
          "pets_count": {
            "type": "integer",
            "example": 2,
            "description": "N√∫mero de pets nesta localiza√ß√£o"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-01T10:00:00.000000Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-01T10:00:00.000000Z"
          }
        }
      }
    }
  }
}